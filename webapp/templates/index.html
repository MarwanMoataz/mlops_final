{% extends 'base.html' %}

{% block title %}
ChurnPrediction
{% endblock title %}


{% block custom_css %}
<!-- Custom CSS -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
{% endblock custom_css %}


{% block body %}
<!-- nav bar -->

<nav class="navbar navbar-expand-lg navbar-light shadow fixed-top" style="background-color: #e3f2fd;">
    <a class="navbar-brand" href="/">Churn Prediction Model</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
            <li class="nav-item active">
                <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
            </li>
            
        </ul>
    </div>
</nav>
<div>
    <!-- nav bar ends -->

    <div class="container-fluid masthead">
        <br>
        <br>
        <br>
        <br>
        <div class="container">
            <div class="row">
                <div class="col">
                    <form method="POST">
                        <div class="form-group">
                            <label>
                                <blockquote class="blockquote">
                                    <p class="mb-2">Enter customer details:</p>
                                </blockquote>
                            </label>
                            
                            <!-- Personal Information -->
                            <h5>Personal Information</h5>
                            <input type="number" class="form-control" name="Age" placeholder="Age" required>
                            <select class="form-control" name="Gender" required>
                                <option value="">Select Gender</option>
                                <option value="1">Male</option>
                                <option value="0">Female</option>
                            </select>
                            <select class="form-control" name="Married" required>
                                <option value="">Married?</option>
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                            <input type="number" class="form-control" name="NumberofDependents" placeholder="Number of Dependents" required>
                            
                            <!-- Service Information -->
                            <h5>Service Information</h5>
                            <select class="form-control" name="Offer" required>
                                <option value="">Select Offer</option>
                                <option value="Offer A">Offer A</option>
                                <option value="Offer B">Offer B</option>
                                <option value="Offer C">Offer C</option>
                                <option value="Offer D">Offer D</option>
                                <option value="Offer E">Offer E</option>Error: No module named 'train_model'
                                <option value="None">None</option>
                            </select>
                            <select class="form-control" name="PhoneService" required>
                                <option value="">Phone Service?</option>
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                            <select class="form-control" name="MultipleLines" required>
                                <option value="">Multiple Lines?</option>
                                <option value="Yes">Yes</option>
                                <option value="No">No</option>
                                <option value="Unknown">Unknown</option>
                            </select>
                            <select class="form-control" name="InternetService" required>
                                <option value="">Internet Service?</option>
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                            <select class="form-control" name="InternetType" required>
                                <option value="">Internet Type</option>
                                <option value="Cable">Cable</option>
                                <option value="DSL">DSL</option>
                                <option value="Fiber Optic">Fiber Optic</option>
                                <option value="Unknown">Unknown</option>
                            </select>
                            
                            <!-- Additional Services -->
                            <h5>Additional Services</h5>
                            <select class="form-control" name="OnlineSecurity" required>
                                <option value="">Online Security?</option>
                                <option value="Yes">Yes</option>
                                <option value="No">No</option>
                                <option value="Unknown">Unknown</option>
                            </select>
                            <select class="form-control" name="OnlineBackup" required>
                                <option value="">Online Backup?</option>
                                <option value="Yes">Yes</option>
                                <option value="No">No</option>
                                <option value="Unknown">Unknown</option>
                            </select>
                            <select class="form-control" name="DeviceProtectionPlan" required>
                                <option value="">Device Protection?</option>
                                <option value="Yes">Yes</option>
                                <option value="No">No</option>
                                <option value="Unknown">Unknown</option>
                            </select>
                            <select class="form-control" name="PremiumTechSupport" required>
                                <option value="">Premium Tech Support?</option>
                                <option value="Yes">Yes</option>
                                <option value="No">No</option>
                                <option value="Unknown">Unknown</option>
                            </select>
                            
                            <!-- Streaming Services -->
                            <h5>Streaming Services</h5>
                            <select class="form-control" name="StreamingTV" required>
                                <option value="">Streaming TV?</option>
                                <option value="Yes">Yes</option>
                                <option value="No">No</option>
                                <option value="Unknown">Unknown</option>
                            </select>
                            <select class="form-control" name="StreamingMovies" required>
                                <option value="">Streaming Movies?</option>
                                <option value="Yes">Yes</option>
                                <option value="No">No</option>
                                <option value="Unknown">Unknown</option>
                            </select>
                            <select class="form-control" name="StreamingMusic" required>
                                <option value="">Streaming Music?</option>
                                <option value="Yes">Yes</option>
                                <option value="No">No</option>
                                <option value="Unknown">Unknown</option>
                            </select>
                            <select class="form-control" name="UnlimitedData" required>
                                <option value="">Unlimited Data?</option>
                                <option value="Yes">Yes</option>
                                <option value="No">No</option>
                                <option value="Unknown">Unknown</option>
                            </select>
                            
                            <!-- Contract & Billing -->
                            <h5>Contract & Billing</h5>
                            <select class="form-control" name="Contract" required>
                                <option value="">Contract Type</option>
                                <option value="Month-to-Month">Month-to-Month</option>
                                <option value="One Year">One Year</option>
                                <option value="Two Year">Two Year</option>
                            </select>
                            <select class="form-control" name="PaperlessBilling" required>
                                <option value="">Paperless Billing?</option>
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                            <select class="form-control" name="PaymentMethod" required>
                                <option value="">Payment Method</option>
                                <option value="Bank Withdrawal">Bank Withdrawal</option>
                                <option value="Credit Card">Credit Card</option>
                                <option value="Mailed Check">Mailed Check</option>
                            </select>
                            
                            <!-- Usage Information -->
                            <h5>Usage Information</h5>
                            <input type="number" class="form-control" name="NumberofReferrals" placeholder="Number of Referrals" required>
                            <input type="number" class="form-control" name="TenureinMonths" placeholder="Tenure in Months" required>
                            <input type="number" class="form-control" name="AvgMonthlyLongDistanceCharges" placeholder="Avg Monthly Long Distance Charges" required>
                            <input type="number" class="form-control" name="AvgMonthlyGBDownload" placeholder="Avg Monthly GB Download" required>
                            <input type="number" class="form-control" name="MonthlyCharge" placeholder="Monthly Charge" required>
                            <input type="number" class="form-control" name="TotalCharges" placeholder="Total Charges" required>
                            <input type="number" class="form-control" name="TotalRefunds" placeholder="Total Refunds" required>
                            <input type="number" class="form-control" name="TotalExtraDataCharges" placeholder="Total Extra Data Charges" required>
                            <input type="number" class="form-control" name="TotalLongDistanceCharges" placeholder="Total Long Distance Charges" required>
                            <input type="number" class="form-control" name="TotalRevenue" placeholder="Total Revenue" required>
                            <input type="number" class="form-control" name="Population" placeholder="Population" required>
                        </div>
                        <button type="submit" class="btn btn-primary mb-2">Predict Churn</button>
                    </form>
                </div>
                <div class="col">
                    <form>
                        <div class="form-group">
                            <label>
                                <blockquote class="blockquote">
                                    <p class="mb-2">Prediction Result:</p>
                                </blockquote>
                            </label>
                            <textarea readonly class="form-control" id="exTextarea" rows="5">{{ response }}</textarea>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        {% endblock body %}

        {% block custom_js %}
        <!-- Custom JS -->
        <script src="{{ url_for('static', filename='script/index.js') }}"></script>
        {% endblock custom_js %}