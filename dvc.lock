schema: '2.0'
stages:
  raw_dataset_creation:
    cmd: python src/data/load_data.py --config=params.yaml
    deps:
    - path: data/external/train.csv
      hash: md5
      md5: aacd0e6cea81f279fb5e5024f926a12c
      size: 18848692
    - path: src/data/load_data.py
      hash: md5
      md5: 1de1b5780f0f897223d87024bae9c1fa
      size: 1392
    outs:
    - path: data/raw/train.csv
      hash: md5
      md5: f1df6fbcc01a01b04d468e60f21007f2
      size: 13114485
  split_data:
    cmd: python src/data/split_data.py --config=params.yaml
    deps:
    - path: data/raw/train.csv
      hash: md5
      md5: f1df6fbcc01a01b04d468e60f21007f2
      size: 13114485
    - path: src/data/split_data.py
      hash: md5
      md5: c143a95ea697d55e3718f4fe9bdc4dfb
      size: 1354
    outs:
    - path: data/processed/churn_test.csv
      hash: md5
      md5: 24d71585aca5f5399744de64cea3e461
      size: 2622781
    - path: data/processed/churn_train.csv
      hash: md5
      md5: e4b45b1faac036fc259cdfa1fe81c195
      size: 10491811
  model_train:
    cmd: python src/models/train_model.py --config=params.yaml
    deps:
    - path: data/processed/churn_test.csv
      hash: md5
      md5: 963d1e133580bf9a095fe956f2e9fb64
      size: 24209
    - path: data/processed/churn_train.csv
      hash: md5
      md5: 8e3b56fb8d60295e2b749c353333e9eb
      size: 96317
    - path: src/models/train_model.py
      hash: md5
      md5: e5a845b8e64ae217ef5c443870cdf95f
      size: 7248
    params:
      params.yaml:
        random_forest.max_depth: 10
        random_forest.n_estimators: 30
  log_production_model:
    cmd: python src/models/production_model_selection.py --config=params.yaml
    deps:
    - path: models/trained_model.joblib
      hash: md5
      md5: 2747e06d4c70b686179e9cd6704587cf
      size: 4887011
    - path: src/models/production_model_selection.py
      hash: md5
      md5: f757902507fcef7bcc231cd11469caef
      size: 1985
    outs:
    - path: models/model.joblib
      hash: md5
      md5: 0463db1a1256ac212516b7936e5bc197
      size: 4888739
  clean_data:
    cmd: python src/data/clean_data.py
    deps:
    - path: data/external/train.csv
      hash: md5
      md5: b5221d76f49e889a8f27e6684c06cb30
      size: 1319774
    - path: params.yaml
      hash: md5
      md5: e11af6d0b821324cf4a4f399b5585432
      size: 2531
    - path: src/data/clean_data.py
      hash: md5
      md5: ad5b3cfbd4329b1b807760869e0ecb0c
      size: 2570
    outs:
    - path: data/processed/CleanedDF.csv
      hash: md5
      md5: 65ac46ca94a31a93730f3fd4b33650b0
      size: 1402746
  train_model:
    cmd: python src/models/train_model.py
    deps:
    - path: data/processed/CleanedDF.csv
      hash: md5
      md5: 65ac46ca94a31a93730f3fd4b33650b0
      size: 1402746
    - path: params.yaml
      hash: md5
      md5: e11af6d0b821324cf4a4f399b5585432
      size: 2531
    - path: src/models/train_model.py
      hash: md5
      md5: 226bc41e3449fd16548a7185db1c430e
      size: 14202
    outs:
    - path: data/processed/churn_test.csv
      hash: md5
      md5: 1b0a7ac50f09646b77da1f1c74d529f4
      size: 310301
    - path: data/processed/churn_train.csv
      hash: md5
      md5: 8438950f8333079a94bd0ec4223e3d1b
      size: 723294
    - path: metrics/classification_report_AdaBoost.txt
      hash: md5
      md5: fc141ce8142c91320fd90841a740633f
      size: 334
    - path: metrics/classification_report_Bagging.txt
      hash: md5
      md5: d20474f9cfbb301882d085f11077dd8a
      size: 334
    - path: metrics/classification_report_BernoulliNB.txt
      hash: md5
      md5: 873ed9fe0c6fcbedd7d742c21f1c6789
      size: 334
    - path: metrics/classification_report_CatBoost.txt
      hash: md5
      md5: 360fe790712536f7740d608db266cfed
      size: 334
    - path: metrics/classification_report_DecisionTree.txt
      hash: md5
      md5: 992ec92f943facf23f232e1bd24cbceb
      size: 334
    - path: metrics/classification_report_Ensemble_XGB_AdaBoost.txt
      hash: md5
      md5: e0f84bf58b26b760df1537e5f4dd726f
      size: 334
    - path: metrics/classification_report_Ensemble_XGB_CatBoost_Bagging.txt
      hash: md5
      md5: 5b8d4f1a184dc60c3d19683f44d2a08a
      size: 334
    - path: metrics/classification_report_Ensemble_XGB_LGBM_CatBoost.txt
      hash: md5
      md5: cabe97742f7fde4f50e9eddfc57e3411
      size: 334
    - path: metrics/classification_report_Ensemble_XGB_RF_DT.txt
      hash: md5
      md5: dbd3e972d3632dfeb219ad08eec47a23
      size: 334
    - path: metrics/classification_report_ExtraTree.txt
      hash: md5
      md5: cd6cc02e74879976848b705f9895cd2b
      size: 334
    - path: metrics/classification_report_KNeighbors.txt
      hash: md5
      md5: 1b807cf431d077f60ccb99de15e3b851
      size: 334
    - path: metrics/classification_report_LGBM.txt
      hash: md5
      md5: 6bfb55e29d92a7422debddb901a30c14
      size: 334
    - path: metrics/classification_report_RandomForest.txt
      hash: md5
      md5: 49c746a7cf2d34aa270a04d9ad097cad
      size: 334
    - path: metrics/classification_report_Ridge.txt
      hash: md5
      md5: e38fc9ef27df88598176f642ac9700ed
      size: 334
    - path: metrics/classification_report_SGD.txt
      hash: md5
      md5: d617b1405b9c5baf4c53ded2efd705de
      size: 334
    - path: metrics/classification_report_SVC.txt
      hash: md5
      md5: 63c244e02aa452fe499555a23d2301a5
      size: 334
    - path: metrics/classification_report_XGBoost.txt
      hash: md5
      md5: 1d2460cdea9a17220e3be66a5300e9c7
      size: 334
    - path: metrics/confusion_matrix_AdaBoost.txt
      hash: md5
      md5: d126bce268e18ddddf2dc11a70a2227d
      size: 27
    - path: metrics/confusion_matrix_Bagging.txt
      hash: md5
      md5: e28e88aa824477d39f6d3ba509ff96f4
      size: 27
    - path: metrics/confusion_matrix_BernoulliNB.txt
      hash: md5
      md5: 2a0cbc87add78ae394071fbfa1fc08fe
      size: 27
    - path: metrics/confusion_matrix_CatBoost.txt
      hash: md5
      md5: cabf02d00f7679c38bfedadf9649c744
      size: 27
    - path: metrics/confusion_matrix_DecisionTree.txt
      hash: md5
      md5: 117306302ec74f190b15a54c84335078
      size: 27
    - path: metrics/confusion_matrix_Ensemble_XGB_AdaBoost.txt
      hash: md5
      md5: f97e20366577f7639ce198848cb1bd7f
      size: 27
    - path: metrics/confusion_matrix_Ensemble_XGB_CatBoost_Bagging.txt
      hash: md5
      md5: 084cbc04d36598f44201a4d468a4df61
      size: 27
    - path: metrics/confusion_matrix_Ensemble_XGB_LGBM_CatBoost.txt
      hash: md5
      md5: 0a552919ddf3446c3344c67a4e533767
      size: 27
    - path: metrics/confusion_matrix_Ensemble_XGB_RF_DT.txt
      hash: md5
      md5: 72058e2a6d43cebb41471d04adfba65d
      size: 27
    - path: metrics/confusion_matrix_ExtraTree.txt
      hash: md5
      md5: fd726e96dc1642eef1c3f2507b711f62
      size: 27
    - path: metrics/confusion_matrix_KNeighbors.txt
      hash: md5
      md5: 090948fed798e366ae9e3d61b3c770da
      size: 27
    - path: metrics/confusion_matrix_LGBM.txt
      hash: md5
      md5: 9a81c5b4997e1c7e2a688492f4296c13
      size: 27
    - path: metrics/confusion_matrix_RandomForest.txt
      hash: md5
      md5: 1fec7cd3da099535b7d0d25c9b61adc2
      size: 27
    - path: metrics/confusion_matrix_Ridge.txt
      hash: md5
      md5: b2ac3f2e7a7fb2856546e4f349883a99
      size: 27
    - path: metrics/confusion_matrix_SGD.txt
      hash: md5
      md5: 60f2d46125268c7c1812424a7f103aa7
      size: 27
    - path: metrics/confusion_matrix_SVC.txt
      hash: md5
      md5: 1499b7c36d324bc399e232f8dab0f143
      size: 27
    - path: metrics/confusion_matrix_XGBoost.txt
      hash: md5
      md5: fc12f40282e064152e2bb4c75e6b3949
      size: 27
    - path: models/trained_model.joblib
      hash: md5
      md5: 2747e06d4c70b686179e9cd6704587cf
      size: 4887011
    - path: plots/confusion_matrix_AdaBoost.png
      hash: md5
      md5: c1e5eda2074dd46c723158ec4c3fc3ab
      size: 21172
    - path: plots/confusion_matrix_Bagging.png
      hash: md5
      md5: 71e965d4b934845d11dcf586cdd91d78
      size: 21379
    - path: plots/confusion_matrix_BernoulliNB.png
      hash: md5
      md5: f4e6424841122a380bb79c403290412d
      size: 20161
    - path: plots/confusion_matrix_CatBoost.png
      hash: md5
      md5: d3cb2d2c7f7aca1ef54f6acec1addf9f
      size: 21433
    - path: plots/confusion_matrix_DecisionTree.png
      hash: md5
      md5: 954f2fc90b7c90b1afe49898739e179e
      size: 21024
    - path: plots/confusion_matrix_Ensemble_XGB_AdaBoost.png
      hash: md5
      md5: ec7caf6ca574de57c4b82257b7b010a7
      size: 23866
    - path: plots/confusion_matrix_Ensemble_XGB_CatBoost_Bagging.png
      hash: md5
      md5: 95ce64788e677f6ec1be900b8f9c51b9
      size: 24684
    - path: plots/confusion_matrix_Ensemble_XGB_LGBM_CatBoost.png
      hash: md5
      md5: c165e01b42c29b538160e912129f8c6e
      size: 24767
    - path: plots/confusion_matrix_Ensemble_XGB_RF_DT.png
      hash: md5
      md5: 7132068970bf26fd8c0ef0b377013ab0
      size: 22582
    - path: plots/confusion_matrix_ExtraTree.png
      hash: md5
      md5: b66a683473ebb06848f8a37d4e903557
      size: 20317
    - path: plots/confusion_matrix_KNeighbors.png
      hash: md5
      md5: aca7151d29b03d424409b886485fd430
      size: 23705
    - path: plots/confusion_matrix_LGBM.png
      hash: md5
      md5: f797c0767607ce2bd9bafff4c1b06451
      size: 21511
    - path: plots/confusion_matrix_RandomForest.png
      hash: md5
      md5: 63a128b82b6821bde80b3e0ff21c5df7
      size: 22281
    - path: plots/confusion_matrix_Ridge.png
      hash: md5
      md5: 4bd5eeadb6c65aff7a91fab1a1cc66cc
      size: 19596
    - path: plots/confusion_matrix_SGD.png
      hash: md5
      md5: e6015934c183b76715c50f3f54c4e1f9
      size: 19517
    - path: plots/confusion_matrix_SVC.png
      hash: md5
      md5: 5161584b22916cfd8b14b1a582152c7d
      size: 20836
    - path: plots/confusion_matrix_XGBoost.png
      hash: md5
      md5: 073c4a397b079ed05c54ab189a11ddb0
      size: 21446
    - path: webapp/model_webapp_dir/model.joblib
      hash: md5
      md5: 2747e06d4c70b686179e9cd6704587cf
      size: 4887011
